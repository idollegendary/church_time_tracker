@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base body styles using Tailwind theme tokens */
body {
  @apply bg-surface text-neutral-900 font-sans;
}

/* Fluid base font size for better mobile scaling */
:root{
  font-size:16px;
}
@media (max-width:640px){
  :root{ font-size:15px; }
}
@media (max-width:420px){
  :root{ font-size:14px; }
}

/* Component helpers (lean) â€” prefer Tailwind utilities in markup */
.card{
  @apply bg-white rounded-xl shadow-card p-4 transition-shadow transition-colors border border-transparent;
}

/* Card hover variant */
.card-hover{ @apply transition-shadow hover:shadow-soft-lg }

/* Table helpers */
.table-header{ @apply bg-surface text-sm font-medium text-gray-700 }
.table-row-hover{ @apply hover:bg-surface/70 }

/* Button base utilities */
.btn{ @apply inline-flex items-center justify-center rounded-md font-medium shadow-sm transition-colors disabled:opacity-60 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 }
.btn-primary{ @apply btn bg-primary text-white px-4 py-2 hover:bg-primary/90 }
.btn-outline{ @apply btn bg-transparent border border-gray-200 text-neutral-900 px-3 py-1 hover:bg-surface }

/* Page header */
.page-header{ @apply text-2xl sm:text-3xl font-semibold tracking-tight }
.page-sub{ @apply text-sm text-gray-500 }

/* Small stat badge */
.stat-badge{ @apply inline-block bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full font-medium }

/* Chart shell */
.chart-shell{ @apply bg-white rounded-md p-3 shadow-sm transition-colors border border-transparent }

/* Accessible focus-visible helper */
.focus-ring:focus-visible{ @apply ring-2 ring-primary/40 outline-none }

/* Dark mode overrides (toggle `dark` on <html> or <body>) */
.dark body{ @apply bg-neutral-900 text-gray-100 }
.dark .card{ @apply bg-neutral-800 border-neutral-700 }
.dark .card-title{ @apply text-gray-100 }
.dark .card-muted{ @apply text-gray-300 }
.dark .chart-shell{ @apply bg-neutral-800 border-neutral-700 }
.dark .table-header{ @apply bg-neutral-900 text-gray-300 }
.dark .table-row-hover:hover{ @apply bg-neutral-800 }
.dark .btn-outline{ @apply border-gray-700 text-gray-100 }
.dark .btn-primary{ @apply bg-primary text-white }

/* Improve text contrast in dark mode for common containers */
.dark .card, .dark .chart-shell, .dark main, .dark .card-grid, .dark .card-compact { @apply text-gray-100 }
.dark .muted, .dark .card-muted, .dark .page-sub { @apply text-gray-300 }

/* Table cells */
.dark table th, .dark table td { @apply text-gray-100 }
.dark table thead th { @apply text-gray-300 }

/* Form controls in dark */
.dark input, .dark select, .dark textarea { @apply bg-neutral-800 border-neutral-700 text-gray-100 }
.dark input::placeholder, .dark textarea::placeholder { @apply text-gray-400 }

/* Base form controls: keep consistent border width and transitions to avoid layout shift on theme toggle */
input, select, textarea { @apply border border-transparent transition-colors }

/* Links and nav */
.dark a { @apply text-primary }


.card-compact{ @apply p-3 }

.card-title{ @apply text-lg font-semibold mb-2 }

/* Dashboard specific */
.card-grid{ @apply grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-4 }
.stat-number{ @apply text-xl sm:text-2xl font-semibold }
.card-compact{ @apply p-3 }
.card-muted{ @apply text-sm text-gray-500 }

.controls-row{ @apply flex items-center gap-2 flex-wrap }

.btn-primary{
  @apply bg-primary text-white px-3 py-2 sm:px-4 sm:py-2 rounded-md transition-colors duration-150 hover:bg-primary/90 text-sm sm:text-base;
}

.btn-outline{ @apply btn bg-transparent border border-gray-200 text-neutral-900 px-3 py-1 sm:px-3 sm:py-1 text-sm }

/* Make cards and containers have comfortable horizontal padding on small screens */
.container-pad{ @apply px-2 sm:px-5 }

/* Improve readability of lists on small screens */
.list-compact li{ @apply py-2 border-b border-surface/50 }

/* Reduce large margins on small screens */
@media(max-width:640px){
  .mt-5{ margin-top:1rem !important }
  .mb-4{ margin-bottom:1rem !important }
}

.muted{
  @apply text-gray-500;
}

/* Utility: muted text (used in components) */
.text-muted{ @apply text-gray-600 }

/* Small clamp helper for notes preview (fallback without plugin) */
.line-clamp-3{
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
}

/* removed circular apply for text-primary */

/* Stat card (compact) */
.stat-card{ @apply bg-white rounded-lg shadow-card p-4 text-center transition-colors border border-transparent }
.stat-card .label{ @apply text-sm text-gray-500 }
.stat-card .value{ @apply text-2xl font-bold mt-2 }

/* small chip */
.chip{ @apply inline-flex items-center gap-2 px-2 py-0.5 rounded-full text-xs font-medium }
.chip-primary{ @apply bg-primary/10 text-primary }

/* progress bar */
.progress{ @apply w-full bg-surface h-2 rounded-full overflow-hidden }
.progress-fill{ @apply h-2 bg-primary rounded-full }

/* dark adjustments for stat-card and chips */
.dark .stat-card{ @apply bg-neutral-800 text-gray-100 border-neutral-700 }
.dark .chip-primary{ @apply bg-primary/20 }

/* Skeleton shimmer for loading placeholders */
.skeleton{
  background: linear-gradient(90deg,#f3f4f6 25%,#e5e7eb 37%,#f3f4f6 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s linear infinite;
  border-radius: 0.375rem; /* rounded-md */
}

@keyframes shimmer{
  0%{ background-position:200% 0 }
  100%{ background-position:-200% 0 }
}

/* Code block with copy button */
.code-block{ position:relative; }
.code-block pre{ background-color: #f8fafc; padding: 1rem; border-radius: 0.5rem; overflow:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace; }
.dark .code-block pre{ background-color: #0b1220; color: #e6eef8 }
.code-block .copy-btn{ position:absolute; top:0.5rem; right:0.5rem; }

